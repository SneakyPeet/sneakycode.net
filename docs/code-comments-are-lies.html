<!DOCTYPE html>

<html></html><html class="has-navbar-fixed-top"><head><meta charset="utf-8" content="text/html" /><meta content="width=device-width, initial-scale=1" name="viewport" /><link href="https://sneakypeet.github.io/sneakycode.net/code-comments-are-lies" rel="canonnical" /><link href="https://sneakypeet.github.io/sneakycode.net/rss/" rel="alternative" title="SneakyCode" type="application/rss+xml" /><title>Code Comments are Lies</title><meta content="Pieter Koornhof" name="author" /><link href="https://sneakypeet.github.io/sneakycode.net/apple-icon-57x57.png" rel="apple-touch-icon" sizes="57x57" /><link href="https://sneakypeet.github.io/sneakycode.net/apple-icon-60x60.png" rel="apple-touch-icon" sizes="60x60" /><link href="https://sneakypeet.github.io/sneakycode.net/apple-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" /><link href="https://sneakypeet.github.io/sneakycode.net/apple-icon-76x76.png" rel="apple-touch-icon" sizes="76x76" /><link href="https://sneakypeet.github.io/sneakycode.net/apple-icon-114x114.png" rel="apple-touch-icon" sizes="114x114" /><link href="https://sneakypeet.github.io/sneakycode.net/apple-icon-120x120.png" rel="apple-touch-icon" sizes="120x120" /><link href="https://sneakypeet.github.io/sneakycode.net/apple-icon-144x144.png" rel="apple-touch-icon" sizes="144x144" /><link href="https://sneakypeet.github.io/sneakycode.net/apple-icon-152x152.png" rel="apple-touch-icon" sizes="152x152" /><link href="https://sneakypeet.github.io/sneakycode.net/apple-icon-180x180.png" rel="apple-touch-icon" sizes="180x180" /><link href="https://sneakypeet.github.io/sneakycode.net/android-icon-192x192.png" rel="icon" sizes="192x192" type="image/png" /><link href="https://sneakypeet.github.io/sneakycode.net/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /><link href="https://sneakypeet.github.io/sneakycode.net/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png" /><link href="https://sneakypeet.github.io/sneakycode.net/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="https://sneakypeet.github.io/sneakycode.net/manifest.json" rel="manifest" /><meta content="#ffffff" name="msapplication-TileColor" /><meta content="ms-icon-144x144.png" name="msapplication-TileImage" /><meta content="#ffffff" name="theme-color" /><meta content="SneakyCode" property="og:site_name" /><meta content="article" property="og:type" /><meta content="Code Comments are Lies" property="og:title" /><meta property="og:description" /><meta content="https://sneakypeet.github.io/sneakycode.net/code-comments-are-lies" property="og:url" /><meta content="clean code" property="article:tag" /><meta content="comments" property="article:tag" /><link href="https://sneakypeet.github.io/sneakycode.net/style.css" rel="stylesheet" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" /></head><body><nav class="navbar is-fixed-top is-dark has-gradient" role="navigation"><div class="navbar-brand"><a class="navbar-item has-text-weight-bold" href="https://sneakypeet.github.io/sneakycode.net/">sneakycode</a></div></nav><nav aria-label="main navigation" class="navbar is-fixed-bottom is-dark has-gradient" role="navigation"><div class="navbar-brand"><a aria-label="home" class="navbar-item" href="https://sneakypeet.github.io/sneakycode.net/"><span class="icon"><i class="fa fa-lg fa-bath"></i></span></a><a aria-label="history" class="navbar-item" href="https://sneakypeet.github.io/sneakycode.net/all-posts"><span class="icon"><i class="fa fa-lg fa-history"></i></span></a><a aria-label="tags" class="navbar-item" href="https://sneakypeet.github.io/sneakycode.net/tags"><span class="icon"><i class="fa fa-lg fa-tags"></i></span></a><a aria-label="rss" class="navbar-item" href="https://sneakypeet.github.io/sneakycode.net/rss.rss"><span class="icon"><i class="fa fa-lg fa-rss"></i></span></a><a aria-label="github" class="navbar-item" href="https://github.com/sneakypeet" target="_blank"><span class="icon"><i class="fa fa-lg fa-github"></i></span></a><a aria-label="twitter " class="navbar-item" href="https://twitter.com/PieterKoornhof" target="_blank"><span class="icon"><i class="fa fa-lg fa-twitter"></i></span></a></div></nav><div class="section"><div class="container"><div class="columns is-8 is-variable is-desktop"><article class="column is-three-quarters-desktop"><h1 class="title has-text-weight-light">Code Comments are Lies</h1><p class="subtitle is-6 post-tags"><span class="tags"><span class="tag is-primary tag-lite">2015-02-02</span><a class="tag" href="https://sneakypeet.github.io/sneakycode.net/tag/clean-code">clean code</a><a class="tag" href="https://sneakypeet.github.io/sneakycode.net/tag/comments">comments</a></span></p><div class="has-text-justified content"><h3>Post Update</h3><p>This post generated some interesting comments on the <a href="http://www.codeproject.com/script/Articles/ArticleVersion.aspx?waid=158130&amp;aid=872073">code project site</a>. Here are some things to note before you continue.</p>
<ul>
  <li>This post is aimed at higher level languages like C# and Java. Please comment your FORTRAN etc.</li>
  <li>The best code that you can write is code that is maintainable as this is the true cost of software. If this requires you to add a comment please do that. I also do that.</li>
  <li>A comment as an excuse for writing bad code, is unacceptable.</li>
</ul><p>Please read the comments on code project. There are some valuable usecases there.</p>
<hr /><p><strong>I'm going to make a bold statement.</strong></p>
<blockquote><p>YOUR COMMENTS ARE BAD AND YOU SHOULD FEEL BAD</p>
</blockquote>
<div style="text-align: center;"><img src="http://res.cloudinary.com/dltpyggxx/image/upload/c_scale,w_172/v1422551564/BadAss_t0fi7y.png" alt="We got a Bad Ass here" style="max-width: 200px; margin-bottom:1em" /></div><p><em>"Oh no he didn't"</em>. <em>"My comments are informative and well written."</em> <em>"How else would people understand this awesome piece of efficient code?"</em></p><p>Although there are use cases for comments, I am going to tell you that comments are like little poops that you leave all over your code for you fellow devs to step in.</p><p><strong>Let's look at some truths about comments</strong></p>
<ul>
  <li><p>They can state the obvious, thus being redundant. </p><pre class="syntax"> <code class="csharp"><span></span><span class="c1">// The Persons First Name</span>
</code> <code class="csharp"><span></span><span class="k">public</span> <span class="kt">string</span> <span class="n">FirstName</span> <span class="p">{</span> <span class="k">get</span><span class="p">;</span> <span class="k">set</span><span class="p">;}</span>
</code> </pre></li>
  <li><p>Having comments scattered throughout your code, explaining functionality in detail, makes it hard to read code fluently. This means that extra effort and concentration is needed to read between the comment lines. The intent does not jump out at you.</p></li>
</ul>
<blockquote><p><strong>Comments Become Lies</strong></p>
</blockquote>
<ul>
  <li><p>Comments rarely get updated when the code changes. This means that overtime the functionality documented by the comments, drifts away from what is actually happening. This causes confusion and again makes the comments worthless.</p></li>
  <li><p>ToDo Comments. They usually don't get done.</p></li>
  <li><p>Comments get copied with code, and as the code changes again the comments don't. First of all you should think twice when you need to copy code, and if you have a great reason you have to make real sure to update (or even just remove) the comments made.</p></li>
  <li><p>Finally, like Uncle Bob says in his book <a href="http://www.amazon.com/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882">Clean Code</a>, if you need to write a comment you have failed to express the intent of the code. You want your code to read well, to be self-documenting so that you do not need to document it.</p></li>
</ul><p>I have written all these types of comments.</p>
<blockquote><p><strong>I need to write a comment about my code, thus I have failed</strong></p>
</blockquote><p>This is another bold statement. But it is exactly what I tell myself when I need to write a comment. It forces me to rethink my code and usually rewrite it to be more readable and maintainable. And if I still need to write the comment, it reminds me that I still have room for improvement. I can decide to leave out the comment and not feel bad, but I write it in hopes that it might aid me or whoever comes after me to understand my poorly expressed code.</p><p><strong>So What Can I Do To Fix This Problem?</strong></p><p>First of all, <strong>Name Things Well</strong>. Well named classes and functions and properties help eliminate confusion and clarifies code intent. A function should do what it says, a class be what it is named.</p><p>Functions should do one thing, it should do it well and it should do it only. Following the <strong>Single Responsibility Principle</strong> will eliminate most reasons to comment code.</p><p>But I hear you shouting from afar: <em>"Pieter, not all comments can be bad"</em>. This is true, although I still maintain comments are bad.</p><p><strong>Some Good Comments</strong></p>
<ul>
  <li><p>Comments that you write to document badly written legacy code. It is not always possible to refactor code, so in these cases help yourself and others to document things that might have bad side effects.</p></li>
  <li><p>Comments documenting framework limitations. </p><pre class="syntax"><code class="csharp"><span></span><span class="k">public</span> <span class="nf">FooConstructor</span><span class="p">()</span> <span class="p">{</span> <span class="c1">//EntityFramework requires a default constructor }</span>
</code></pre></li>
  <li><p>ToDo comments can be a great way to remind yourself of something that you need to do. Only use them while working on feature branches. They should be implemented or removed (placed on your backlog as a ticket) once you merge back to your main branch.</p></li>
  <li><p>In the rare case that you need to write optimised code that might be confusing and not easily readable. This is a rare case for most of us.</p></li>
  <li><p>API documenting code. In some languages you can add comments to classes, methods and properties and these will get rendered by your IDE or can be exported to actual documents. This should only live on public facing code and has no place inside your application where some random user will not use it.</p></li>
</ul><p>Remember you want to write readable, self-documenting, maintainable code for yourself and others. So stop writing that comment and be awesome instead.</p><p>If you can think of other examples please add them in the comments and if you liked this post share it with the hashtag <code>#badcomment</code>. For those of you that are still angry, <a href="http://stackoverflow.com/questions/184618/what-is-the-best-comment-in-source-code-you-have-ever-encountered">here are some funny comments.</a></p><p><a href="http://www.codeproject.com/script/Articles/BlogFeedList.aspx?amid=8804440" rel="tag" style="display:none">CodeProject</a></p></div></article><div aria-label="pagination" class="column" role="navigation"><div class="short-timeline"><div class="timeline is-rtl"><div class="timeline-header"><a class="tag is-primary tag-lite" href="https://sneakypeet.github.io/sneakycode.net/domain-driven-design-app-structure-part-2">Older</a></div><div class="timeline-item"><div class="timeline-marker"></div><div class="timeline-content"><a class="header" href="https://sneakypeet.github.io/sneakycode.net/domain-driven-design-app-structure-part-2">Domain Driven Design App Structure part 2</a></div></div><div class="timeline-header"><a class="tag is-primary tag-lite" href="https://sneakypeet.github.io/sneakycode.net/value-objects">Newer</a></div><div class="timeline-item"><div class="timeline-marker"></div><div class="timeline-content"><a class="header" href="https://sneakypeet.github.io/sneakycode.net/value-objects">Value Objects</a></div></div><div class="timeline-header"><span class="tag is-primary tag-lite">end</span></div></div></div></div></div></div></div></body></html>